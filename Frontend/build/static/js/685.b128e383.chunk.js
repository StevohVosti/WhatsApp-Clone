"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[685],{5685:function(n,e,t){t.r(e),t.d(e,{default:function(){return xt}});var r,s,i,o,a,c,u,l,d,p,x,h,f,Z,g,v,m,w,j,b,P,y,k,F,C,S,A,I,z,E,_,R,T,U,W,O,M,B,D,L,H,N,V,q,K,Y,G,Q,X,J,$,nn=t(168),en=t(2791),tn=t(6863),rn=t(6015),sn=t(2892),on=t(4666),an=t(5949),cn=t(6415),un=t(8722),ln=t(885),dn=t(5505),pn=t(7235),xn=t(4020),hn=t(1764),fn=t(4956),Zn=t(4565),gn=t(4812),vn=t(2161),mn=t(184),wn=(0,tn.ZP)(rn.Z)(r||(r=(0,nn.Z)(["\n    display: flex;\n    justify-content: center;\n"]))),jn=(0,tn.ZP)("img")({width:200,height:200,borderRadius:"50%",padding:"25px 0"}),bn=(0,tn.ZP)(rn.Z)(s||(s=(0,nn.Z)(["\n    background: #FFFFFF;\n    padding: 12px 30px 2px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n    & :first-child {\n        font-size: 13px;\n        color: #009688;\n        font-weight: 200;\n    };\n    & :last-child {\n        margin: 14px 0;\n        color: #4A4A4A;\n    }\n"]))),Pn=(0,tn.ZP)(rn.Z)(i||(i=(0,nn.Z)(["\n    padding: 15px 20px 28px 30px;\n    & > p {\n        color: #8696a0;\n        font-size: 13px;\n    }\n"]))),yn=function(){var n=(0,en.useContext)(an.w).account;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(wn,{children:(0,mn.jsx)(jn,{src:n.picture,alt:"displaypicture"})}),(0,mn.jsxs)(bn,{children:[(0,mn.jsx)(Zn.Z,{children:"Your name"}),(0,mn.jsx)(Zn.Z,{children:n.name})]}),(0,mn.jsx)(Pn,{children:(0,mn.jsx)(Zn.Z,{children:"This is not your username or pin. This name will be visible to your WhatsApp contacts."})}),(0,mn.jsxs)(bn,{children:[(0,mn.jsx)(Zn.Z,{children:"About"}),(0,mn.jsx)(Zn.Z,{children:"Eat! Sleep! Code! Repeat"})]})]})},kn=(0,tn.ZP)(rn.Z)(o||(o=(0,nn.Z)(["\n  background: #008069;\n  height: 107px;\n  color: #FFFFFF;\n  display: flex;\n  & > svg, & > p {\n    margin-top: auto;\n    padding: 15px;\n    font-weight: 600;\n"]))),Fn=(0,tn.ZP)(rn.Z)(a||(a=(0,nn.Z)(["\n  background: #ededed;\n  height: 85%;\n"]))),Cn=(0,tn.ZP)(Zn.Z)(c||(c=(0,nn.Z)(["\n    font-size: 18px;\n"]))),Sn={left:20,top:17,height:"95%",width:"30%",boxShadow:"none"},An=function(n){var e=n.open,t=n.setOpen,r=n.profile;return(0,mn.jsxs)(gn.ZP,{open:e,onClose:function(){t(!1)},PaperProps:{sx:Sn},style:{zIndex:1500},children:[(0,mn.jsxs)(kn,{children:[(0,mn.jsx)(vn.Z,{onClick:function(){return t(!1)}}),(0,mn.jsx)(Cn,{children:"Profile"})]}),(0,mn.jsx)(Fn,{children:r&&(0,mn.jsx)(yn,{})})]})},In=(0,tn.ZP)(xn.Z)(u||(u=(0,nn.Z)(["\n    font-size: 14px\n    padding: 15px 60px 5px 24px;\n    color: #4A4A4A;\n"]))),zn=((0,tn.ZP)(fn.Kz)(l||(l=(0,nn.Z)(["\n  border: none;\n  box-shadow: none;\n"]))),function(){var n=(0,en.useState)(!1),e=(0,ln.Z)(n,2),t=e[0],r=e[1],s=(0,en.useState)(!1),i=(0,ln.Z)(s,2),o=i[0],a=i[1],c=(0,en.useContext)(an.w),u=(c.setAccount,c.setShowloginButton,c.showlogoutButton,c.setShowlogoutButton,(0,en.useContext)(un.S).setPerson,function(){r(null)});return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(pn.Z,{onClick:function(n){r(n.currentTarget)}}),(0,mn.jsxs)(hn.Z,{anchorEl:t,keepMounted:!0,open:t,onClose:u,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,mn.jsx)(In,{onClick:function(){u(),a(!0)},children:"Profile"}),(0,mn.jsx)(In,{onClick:function(){u()}})]}),(0,mn.jsx)(An,{open:o,setOpen:a,profile:!0})]})}),En=(0,tn.ZP)(rn.Z)(d||(d=(0,nn.Z)(["\n  height: 44px;\n  background: #ededed;\n  display: flex;\n  padding: 8px 16px;\n  align-items: center;\n"]))),_n=(0,tn.ZP)(rn.Z)(p||(p=(0,nn.Z)(["\n  margin-left: auto;\n  & > * {\n    margin-left: 2px;\n    padding: 8px;\n    color: #000;\n  }\n  & :first-child {\n    font-size: 22px;\n    margin-right: 8px;\n    margin-top: 3px;\n  }\n"]))),Rn=(0,tn.ZP)("img")({height:40,width:40,borderRadius:"50%"}),Tn=function(){var n=(0,en.useState)(!1),e=(0,ln.Z)(n,2),t=e[0],r=e[1],s=(0,en.useContext)(an.w).account;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)(En,{children:[(0,mn.jsx)(Rn,{src:s.picture,onClick:function(){r(!0)}}),(0,mn.jsxs)(_n,{children:[(0,mn.jsx)(dn.Z,{}),(0,mn.jsx)(zn,{})]})]}),(0,mn.jsx)(An,{open:t,setOpen:r,profile:!0})]})},Un=t(8448),Wn=t(2167),On=(0,tn.ZP)(rn.Z)(x||(x=(0,nn.Z)(["\n    background: #fff;\n    height: 45px;\n    display: flex;\n    align-items: center;\n    border-bottom: 1px solid #F2F2F2;\n"]))),Mn=(0,tn.ZP)(rn.Z)(h||(h=(0,nn.Z)(["\n    position: relative;\n    border-radius: 10px;\n    background-color: #f0f2f5;\n    margin: 0 13px;\n    width: 100%;\n"]))),Bn=(0,tn.ZP)(rn.Z)(f||(f=(0,nn.Z)(["\n    color: #919191;\n    padding: 8px;\n    height: 100%;\n    position: absolute;\n"]))),Dn=(0,tn.ZP)(Un.ZP)(Z||(Z=(0,nn.Z)(["\n    width: 100%;\n    padding: 16px;\n    padding-left: 65px;\n    font-size: 14px;\n    height: 15px;\n    width: 100%;\n"]))),Ln=function(n){var e=n.setText;return(0,mn.jsx)(On,{children:(0,mn.jsxs)(Mn,{children:[(0,mn.jsx)(Bn,{children:(0,mn.jsx)(Wn.Z,{fontSize:"small"})}),(0,mn.jsx)(Dn,{placeholder:"Search or start new chat",inputProps:{"aria-label":"search"},onChange:function(n){return e(n.target.value)}})]})})},Hn=t(4165),Nn=t(5861),Vn=t(1872),qn=t(1044),Kn="http://localhost:4000",Yn=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e){var t;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qn.ZP.post("".concat(Kn,"/add"),e);case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("Error while calling addUser API ",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),Gn=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(){var e;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qn.ZP.get("".concat(Kn,"/users"));case 3:return e=n.sent,n.abrupt("return",e.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("Error while calling getUsers API ",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),Qn=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e){return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qn.ZP.post("".concat(Kn,"/conversation/add"),e);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log("Error while calling setConversation API ",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),Xn=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e){var t;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qn.ZP.post("".concat(Kn,"/conversation/get"),e);case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("Error while calling getConversation API ",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),Jn=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e){var t;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qn.ZP.get("".concat(Kn,"/message/get/").concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("Error while calling getMessages API ",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),$n=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e){return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qn.ZP.post("".concat(Kn,"/message/add"),e);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log("Error while calling newConversations API ",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),ne=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e){return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qn.ZP.post("".concat(Kn,"/file/upload"),e);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log("Error while calling newConversations API ",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),ee=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e,t){return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault();try{fetch(t).then((function(n){return n.blob()})).then((function(n){var e=window.URL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=e;var s=t.split("/").pop();r.download=""+s,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(e)})).catch((function(n){return console.log("Error while downloading the image ",n)}))}catch(r){console.log("Error while downloading the image ",r)}case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),te=function(n){var e=new Date(n).getHours(),t=new Date(n).getMinutes();return"".concat(e<10?"0"+e:e,":").concat(t<10?"0"+t:t)},re=(0,tn.ZP)(rn.Z)(g||(g=(0,nn.Z)(["\n    height: 45px;\n    display: flex;\n    padding: 13px 0;\n    cursor: pointer;\n"]))),se=(0,tn.ZP)("img")({width:50,height:50,objectFit:"cover",borderRadius:"50%",padding:"0 14px"}),ie=(0,tn.ZP)(rn.Z)(v||(v=(0,nn.Z)(["\n    display: flex;\n"]))),oe=(0,tn.ZP)(Zn.Z)(m||(m=(0,nn.Z)(["\n    font-size: 12px;\n    margin-left: auto;\n    color: #00000099;\n    margin-right: 20px;\n"]))),ae=(0,tn.ZP)(Zn.Z)(w||(w=(0,nn.Z)(["\n    display: block;\n    color: rgba(0, 0, 0, 0.6);\n    font-size: 14px;\n"]))),ce=function(n){var e,t=n.user,r=t.picture||"https://www.kindpng.com/picc/m/78-785827_user-profile-avatar-login-account-male-user-icon.png",s=(0,en.useContext)(un.S).setPerson,i=(0,en.useContext)(an.w),o=i.account,a=i.newMessageFlag,c=(0,en.useState)({}),u=(0,ln.Z)(c,2),l=u[0],d=u[1];(0,en.useEffect)((function(){var n=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(){var e;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xn({senderId:o.sub,receiverId:t.sub});case 2:e=n.sent,d({text:null===e||void 0===e?void 0:e.message,timestamp:null===e||void 0===e?void 0:e.updatedAt});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[a]);var p=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(){return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(t),n.next=3,Qn({senderId:o.sub,receiverId:t.sub});case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,mn.jsxs)(re,{onClick:function(){return p()},children:[(0,mn.jsx)(rn.Z,{children:(0,mn.jsx)(se,{src:r,alt:"display picture"})}),(0,mn.jsxs)(rn.Z,{style:{width:"100%"},children:[(0,mn.jsxs)(ie,{children:[(0,mn.jsx)(Zn.Z,{children:t.name}),(null===l||void 0===l?void 0:l.text)&&(0,mn.jsx)(oe,{children:te(null===l||void 0===l?void 0:l.timestamp)})]}),(0,mn.jsx)(rn.Z,{children:(0,mn.jsx)(ae,{children:null!==l&&void 0!==l&&null!==(e=l.text)&&void 0!==e&&e.includes("localhost")?"media":l.text})})]})]})},ue=(0,tn.ZP)(rn.Z)(j||(j=(0,nn.Z)(["\n    overflow: overlay;\n    height: 81vh;\n"]))),le=(0,tn.ZP)(Vn.Z)(b||(b=(0,nn.Z)(["\n    margin: 0 0 0 70px;\n    background-color: #e9edef;\n    opacity: .6;\n"]))),de=function(n){var e=n.text,t=(0,en.useState)([]),r=(0,ln.Z)(t,2),s=r[0],i=r[1],o=(0,en.useContext)(an.w),a=o.account,c=o.socket,u=o.setActiveUsers;return(0,en.useEffect)((function(){var n=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(){var t,r;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gn();case 2:t=n.sent,r=t.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})),i(r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]),(0,en.useEffect)((function(){c.current.emit("addUser",a),c.current.on("getUsers",(function(n){u(n)}))}),[a]),(0,mn.jsx)(ue,{children:s&&s.map((function(n,e){return n.sub!==a.sub&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(ce,{user:n}),s.length!==e+1&&(0,mn.jsx)(le,{})]})}))})},pe=function(){var n=(0,en.useState)(""),e=(0,ln.Z)(n,2),t=e[0],r=e[1];return(0,mn.jsxs)(rn.Z,{children:[(0,mn.jsx)(Tn,{}),(0,mn.jsx)(Ln,{setText:r}),(0,mn.jsx)(de,{text:t})]})},xe=(0,tn.ZP)(rn.Z)(P||(P=(0,nn.Z)(["\n    height: 44px;\n    background: #ededed;\n    display: flex;\n    padding: 8px 16px;\n    align-items: center;\n"]))),he=(0,tn.ZP)("img")({width:40,height:40,objectFit:"cover",borderRadius:"50%"}),fe=(0,tn.ZP)(Zn.Z)(y||(y=(0,nn.Z)(["\n    margin-left: 12px !important;\n"]))),Ze=(0,tn.ZP)(rn.Z)(k||(k=(0,nn.Z)(["\n    margin-left: auto;\n    & > svg {\n        padding: 8px;\n        font-size: 22px;\n        color: #000;\n    }\n"]))),ge=(0,tn.ZP)(Zn.Z)(F||(F=(0,nn.Z)(["\n    font-size: 12px !important;\n    color: rgb(0, 0, 0, 0.6);\n    margin-left: 12px !important;\n"]))),ve=function(n){var e=n.person,t=e.picture||"https://static.straitstimes.com.sg/s3fs-public/articles/2020/12/01/af_moneyheist_011220.jpg",r=(0,en.useContext)(an.w).activeUsers;return(0,mn.jsxs)(xe,{children:[(0,mn.jsx)(he,{src:t,alt:"display picture"}),(0,mn.jsxs)(rn.Z,{children:[(0,mn.jsx)(fe,{children:e.name}),(0,mn.jsx)(ge,{children:null!==r&&void 0!==r&&r.find((function(n){return n.sub===e.sub}))?"Online":"Offline"})]}),(0,mn.jsxs)(Ze,{children:[(0,mn.jsx)(Wn.Z,{}),(0,mn.jsx)(pn.Z,{})]})]})},me=t(2982),we=t(1413),je=(t(5694),t(8712)),be=(0,tn.ZP)(rn.Z)(C||(C=(0,nn.Z)(["\n    background: #FFFFFF;\n    padding: 5px;\n    max-width: 60%;\n    width: fit-content;\n    display: flex;\n    border-radius: 10px;\n    word-break: break-word;\n"]))),Pe=(0,tn.ZP)(rn.Z)(S||(S=(0,nn.Z)(["\n    background: #dcf8c6;\n    padding: 5px;\n    max-width: 60%;\n    width: fit-content;\n    margin-left: auto;\n    display: flex;\n    border-radius: 10px;\n    word-break: break-word;\n"]))),ye=(0,tn.ZP)(Zn.Z)(A||(A=(0,nn.Z)(["\n    font-size: 14px;\n    padding: 0 25px 0 5px;\n"]))),ke=(0,tn.ZP)(Zn.Z)(I||(I=(0,nn.Z)(["\n    font-size: 10px;\n    color: #919191;\n    margin-top: 6px;\n    word-break: keep-all;\n    margin-top: auto;\n"]))),Fe=function(n){var e=n.message;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(ye,{children:e.text}),(0,mn.jsx)(ke,{children:te(e.createdAt)})]})},Ce=function(n){var e,t=n.message;return(0,mn.jsxs)("div",{style:{position:"relative"},children:[null!==t&&void 0!==t&&null!==(e=t.text)&&void 0!==e&&e.includes(".pdf")?(0,mn.jsxs)("div",{style:{display:"flex"},children:[(0,mn.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/logos-and-brands/512/27_Pdf_File_Type_Adobe_logo_logos-512.png",alt:"pdf-icon",style:{width:80}}),(0,mn.jsx)(Zn.Z,{style:{fontSize:14},children:t.text.split("/").pop()})]}):(0,mn.jsx)("img",{style:{width:300,height:"100%",objectFit:"cover"},src:t.text,alt:t.text}),(0,mn.jsxs)(ke,{style:{position:"absolute",bottom:0,right:0},children:[(0,mn.jsx)(je.Z,{onClick:function(n){return ee(n,t.text)},fontSize:"small",style:{marginRight:10,border:"1px solid grey",borderRadius:"50%"}}),te(t.createdAt)]})]})},Se=function(n){var e=n.message,t=(0,en.useContext)(an.w).account;return(0,mn.jsx)(mn.Fragment,{children:t.sub===e.senderId?(0,mn.jsx)(Pe,{children:"file"===e.type?(0,mn.jsx)(Ce,{message:e}):(0,mn.jsx)(Fe,{message:e})}):(0,mn.jsx)(be,{children:"file"===e.type?(0,mn.jsx)(Ce,{message:e}):(0,mn.jsx)(Fe,{message:e})})})},Ae=t(2269),Ie=t(5980),ze=t(7097),Ee=(0,tn.ZP)(rn.Z)(z||(z=(0,nn.Z)(["\n    height: 55px;\n    background: #ededed;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    padding: 0 15px;\n    &  > * {\n        margin: 5px;\n        color: #919191;\n    }\n"]))),_e=(0,tn.ZP)(rn.Z)(E||(E=(0,nn.Z)(["\n    border-radius: 18px;\n    background-color: #FFFFFF;\n    width: calc(94% - 100px);\n"]))),Re=(0,tn.ZP)(Un.ZP)(_||(_=(0,nn.Z)(["\n    width: 100%;\n    padding: 20px;\n    padding-left: 25px;\n    font-size: 14px;\n    height: 20px;\n    width: 100%;\n"]))),Te=(0,tn.ZP)(Ae.Z)(R||(R=(0,nn.Z)(["\n    transform: 'rotate(40deg)'\n"]))),Ue=function(n){var e=n.sendText,t=n.value,r=n.setValue,s=n.setFile,i=n.file,o=n.setImage;(0,en.useEffect)((function(){var n=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(){var e,t;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i){n.next=8;break}return(e=new FormData).append("name",i.name),e.append("file",i),n.next=6,ne(e);case 6:t=n.sent,o(t.data);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[i]);return(0,mn.jsxs)(Ee,{children:[(0,mn.jsx)(Ie.Z,{}),(0,mn.jsx)("label",{htmlFor:"fileInput",children:(0,mn.jsx)(Te,{})}),(0,mn.jsx)("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:function(n){return function(n){r(n.target.files[0].name),s(n.target.files[0])}(n)}}),(0,mn.jsx)(_e,{children:(0,mn.jsx)(Re,{placeholder:"Type a message",inputProps:{"aria-label":"search"},onChange:function(n){return r(n.target.value)},onKeyPress:function(n){return e(n)},value:t})}),(0,mn.jsx)(ze.Z,{})]})},We=(0,tn.ZP)(rn.Z)(T||(T=(0,nn.Z)(["\n    background-image: url(",");\n    background-size: 50%;\n"])),"https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png"),Oe=((0,tn.ZP)(rn.Z)(U||(U=(0,nn.Z)(["\n    height: 55px;\n    background: #ededed;\n    // position: absolute;\n    width: 100%;\n    // bottom: 0\n"]))),(0,tn.ZP)(rn.Z)(W||(W=(0,nn.Z)(["\n    height: 80vh;\n    overflow-y: scroll;\n"])))),Me=(0,tn.ZP)(rn.Z)(O||(O=(0,nn.Z)(["\n    padding: 1px 80px;\n"]))),Be=function(n){var e,t=n.person,r=n.conversation,s=(0,en.useState)([]),i=(0,ln.Z)(s,2),o=i[0],a=i[1],c=(0,en.useState)(null),u=(0,ln.Z)(c,2),l=u[0],d=u[1],p=(0,en.useState)(),x=(0,ln.Z)(p,2),h=x[0],f=x[1],Z=(0,en.useState)(),g=(0,ln.Z)(Z,2),v=g[0],m=g[1],w=(0,en.useState)(),j=(0,ln.Z)(w,2),b=j[0],P=j[1],y=(0,en.useRef)(),k=(0,en.useContext)(an.w),F=k.account,C=k.socket,S=k.newMessageFlag,A=k.setNewMessageFlag;(0,en.useEffect)((function(){C.current.on("getMessage",(function(n){d((0,we.Z)((0,we.Z)({},n),{},{createdAt:Date.now()}))}))}),[]),(0,en.useEffect)((function(){var n=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(){var e;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Jn(null===r||void 0===r?void 0:r._id);case 2:e=n.sent,a(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[null===r||void 0===r?void 0:r._id,t._id,S]),(0,en.useEffect)((function(){var n;null===(n=y.current)||void 0===n||n.scrollIntoView({transition:"smooth"})}),[o]),(0,en.useEffect)((function(){var n;l&&(null===r||void 0===r||null===(n=r.members)||void 0===n?void 0:n.includes(l.senderId))&&a((function(n){return[].concat((0,me.Z)(n),[l])}))}),[l,r]);var I=null===r||void 0===r||null===(e=r.members)||void 0===e?void 0:e.find((function(n){return n!==F.sub})),z=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(e){var t,s;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.keyCode||e.which,h){n.next=3;break}return n.abrupt("return");case 3:if(13!==t){n.next=13;break}return s={},s=v?{senderId:F.sub,conversationId:r._id,receiverId:I,type:"file",text:b}:{senderId:F.sub,receiverId:I,conversationId:r._id,type:"text",text:h},C.current.emit("sendMessage",s),n.next=9,$n(s);case 9:f(""),m(),P(""),A((function(n){return!n}));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,mn.jsxs)(We,{children:[(0,mn.jsx)(Oe,{children:o&&o.map((function(n){return(0,mn.jsx)(Me,{ref:y,children:(0,mn.jsx)(Se,{message:n})})}))}),(0,mn.jsx)(Ue,{sendText:z,value:h,setValue:f,setFile:m,file:v,setImage:P})]})},De=function(){var n=(0,en.useContext)(un.S).person,e=(0,en.useContext)(an.w).account,t=(0,en.useState)({}),r=(0,ln.Z)(t,2),s=r[0],i=r[1];return(0,en.useEffect)((function(){var t=function(){var t=(0,Nn.Z)((0,Hn.Z)().mark((function t(){var r;return(0,Hn.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xn({senderId:e.sub,receiverId:n.sub});case 2:r=t.sent,i(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[n.sub]),(0,mn.jsxs)(rn.Z,{style:{height:"75%"},children:[(0,mn.jsx)(ve,{person:n}),(0,mn.jsx)(Be,{person:n,conversation:s})]})},Le=(0,tn.ZP)(rn.Z)(M||(M=(0,nn.Z)(["\n    background: #f8f9fa;\n    padding: 30px 0;\n    text-align: center;\n    height: 100%;\n"]))),He=(0,tn.ZP)(rn.Z)(B||(B=(0,nn.Z)(["\n    padding: 0 200px;\n"]))),Ne=(0,tn.ZP)("img")({marginTop:100,width:400}),Ve=(0,tn.ZP)(Zn.Z)(D||(D=(0,nn.Z)(["\n    font-size: 32px;\n    font-family: inherit;\n    font-weight: 300;\n    color: #41525d;\n    margin-top: 25px 0 10px 0;\n"]))),qe=(0,tn.ZP)(Zn.Z)(L||(L=(0,nn.Z)(["\n    font-size: 14px;\n    color: #667781;\n    font-weight: 400;\n    font-family: inherit;\n"]))),Ke=(0,tn.ZP)(Vn.Z)(H||(H=(0,nn.Z)(["\n    margin: 40px 0;\n    opacity: 0.4;\n"]))),Ye=function(){return(0,mn.jsx)(Le,{children:(0,mn.jsxs)(He,{children:[(0,mn.jsx)(Ne,{src:"https://i.gadgets360cdn.com/large/whatsapp_multi_device_support_update_image_1636207150180.jpg",alt:"empty"}),(0,mn.jsx)(Ve,{children:"WhatsApp Web"}),(0,mn.jsx)(qe,{children:"Now send and receive messages without keeping your phone online."}),(0,mn.jsx)(qe,{children:"Use WhatsApp on up to 4 linked devices and 1 phone at the same time. "}),(0,mn.jsx)(Ke,{})]})})},Ge=(0,tn.ZP)(rn.Z)(N||(N=(0,nn.Z)(["\n    display: flex;\n"]))),Qe=(0,tn.ZP)(rn.Z)(V||(V=(0,nn.Z)(["\n    min-width: 450px;\n"]))),Xe=(0,tn.ZP)(rn.Z)(q||(q=(0,nn.Z)(["\n    width: 73%;\n    min-width: 300px;\n    height: 100%;\n    border-left: 1px solid rgba(0, 0, 0, 0.14);\n"]))),Je={height:"95%",width:"100%",margin:"20px",maxWidth:"100%",maxHeight:"100%",borderRadius:0,boxShadow:"none",overflow:"hidden"},$e=function(){var n=(0,en.useContext)(un.S).person;return(0,mn.jsx)(cn.Z,{open:!0,BackdropProps:{style:{backgroundColor:"unset"}},PaperProps:{sx:Je},maxWidth:"md",children:(0,mn.jsxs)(Ge,{children:[(0,mn.jsx)(Qe,{children:(0,mn.jsx)(pe,{})}),(0,mn.jsx)(Xe,{children:Object.keys(n).length?(0,mn.jsx)(De,{}):(0,mn.jsx)(Ye,{})})]})})},nt=t(5629),et=t(3766),tt=t(456),rt=(0,tn.ZP)(rn.Z)(K||(K=(0,nn.Z)(["\n    display: flex; \n"]))),st=(0,tn.ZP)(rn.Z)(Y||(Y=(0,nn.Z)(["\npadding: 56px 0 56px 56px;\n"]))),it=(0,tn.ZP)("img")({margin:"50px 0 0 50px",height:264,width:264}),ot=(0,tn.ZP)(Zn.Z)(G||(G=(0,nn.Z)(["\n    font-size: 26px;\n    margin-bottom: 25px;\n    color: #525252;\n    font-family: Segoe UI,Helvetica Neue,Helvetica,Lucida Grande,Arial,Ubuntu,Cantarell,Fira Sans,sans-serif;\n    font-weight: 300;\n"]))),at=(0,tn.ZP)(nt.Z)(Q||(Q=(0,nn.Z)(["\n    &  > li {\n        padding: 0;\n        margin-top: 15px;\n        font-size: 18px;\n        line-height: 28px;\n        color: #4a4a4a;\n    }\n"]))),ct={marginTop:"12%",height:"95%",width:"60%",maxWidth:"100",maxHeight:"100%",borderRadius:0,boxShadow:"none",overflow:"hidden"},ut=function(){var n=(0,en.useContext)(an.w),e=n.setAccount,t=n.showloginButton,r=n.setShowloginButton,s=n.setShowlogoutButton,i=function(){var n=(0,Nn.Z)((0,Hn.Z)().mark((function n(t){var i;return(0,Hn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,tt.Z)(t.credential),e(i),r(!1),s(!0),n.next=6,Yn(i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,mn.jsx)(cn.Z,{open:!0,BackdropProps:{style:{backgroundColor:"unset"}},maxWidth:"md",PaperProps:{sx:ct},children:(0,mn.jsxs)(rt,{children:[(0,mn.jsxs)(st,{children:[(0,mn.jsx)(ot,{children:"To use WhatsApp on your computer:"}),(0,mn.jsxs)(at,{children:[(0,mn.jsx)(et.ZP,{children:"1. Open WhatsApp on your phone"}),(0,mn.jsx)(et.ZP,{children:"2. Tap Menu Settings and select WhatsApp Web"}),(0,mn.jsx)(et.ZP,{children:"3. Point your phone to this screen to capture the code"})]})]}),(0,mn.jsxs)(rn.Z,{style:{position:"relative"},children:[(0,mn.jsx)(it,{src:"https://www.ginifab.com/feeds/qr_code/img/qrcode.jpg",alt:"QR Code"}),(0,mn.jsx)(rn.Z,{style:{position:"absolute",top:"50%",transform:"translateX(25%) translateY(-25%)"},children:t?(0,mn.jsx)(fn.kZ,{buttonText:"",onSuccess:i,onError:function(n){console.log("Login Failed:",n)}}):null})]})]})})},lt=(0,tn.ZP)(rn.Z)(X||(X=(0,nn.Z)(["\n    height: 100vh;\n    background: #DCDCDC;\n"]))),dt=(0,tn.ZP)(sn.Z)(J||(J=(0,nn.Z)(["\n    background-color: #00A884;\n    height: 125px;\n    box-shadow: none;\n"]))),pt=(0,tn.ZP)(sn.Z)($||($=(0,nn.Z)(["\n    background: #00bfa5;\n    height: 200px;\n    box-shadow: none;\n"]))),xt=function(){var n=(0,en.useContext)(an.w).account;return(0,mn.jsx)(lt,{children:n?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(dt,{children:(0,mn.jsx)(on.Z,{})}),(0,mn.jsx)($e,{})]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(pt,{children:(0,mn.jsx)(on.Z,{})}),(0,mn.jsx)(ut,{})]})})}}}]);
//# sourceMappingURL=685.b128e383.chunk.js.map